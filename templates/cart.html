{% extends 'layout.html' %}
{% block body %}

<style>
.cart-card{
  transition: all 0.3s ease;
}
.cart-card:hover{
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}
.fade-in{
  animation: fade 0.6s ease-in-out;
}
@keyframes fade{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}
</style>

<div class="container py-4 fade-in">

<h3 class="fw-bold mb-4">ðŸ›’ Your Cart</h3>

{% if items and items|length > 0 %}

<div class="row">
{% set total = 0 %}
{% for i in items %}
{% set total = total + i[2] %}
<div class="col-md-4 mb-3">
    <div class="card cart-card border-0 shadow-sm p-2">
        <div class="card-body">

            <h5 class="fw-semibold">
                <i class="bi bi-bag"></i> {{ i[1] }}
            </h5>

            <p class="text-muted mb-2">
                <i class="bi bi-currency-rupee"></i> {{ i[2] }}
            </p>

            <div class="d-flex justify-content-between">
                <a href="/remove_from_cart/{{i[0]}}" class="btn btn-outline-danger btn-sm">
    <i class="bi bi-trash"></i> Remove
</a>
            </div>

        </div>
    </div>
</div>
{% endfor %}
</div>

<div class="card shadow-sm border-0 mt-3 p-3">
    <div class="d-flex justify-content-between align-items-center">
        <h5>Total Amount:</h5>
        <h4 class="fw-bold text-success">
            â‚¹ {{ total }}
        </h4>
    </div>

    <div class="d-flex justify-content-between mt-3">
        <a href="/dashboard" class="btn btn-outline-secondary">
            â¬… Continue Shopping
        </a>
        <a href="/place_order" class="btn btn-success px-4">
            âœ… Place Order
        </a>
    </div>
</div>

{% else %}
<div class="text-center py-5">
    <h5>Your cart is empty ðŸ˜”</h5>
    <p class="text-muted">Add some awesome products to your cart.</p>
    <a href="/" class="btn btn-primary">Browse Products</a>
</div>
{% endif %}

</div>

{% endblock %}

